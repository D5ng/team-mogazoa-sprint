import { Meta, Canvas, Controls } from '@storybook/blocks'
import * as FormFieldStories from './FormField.stories'

<Meta of={FormFieldStories} />

# FormField

`FormField` 컴포넌트는 폼 입력 필드를 구성하는 데 사용되는 재사용 가능한 컴포넌트입니다. 이 컴포넌트는 React Hook Form과 통합되어 있어 폼 상태 관리와 유효성 검사를 쉽게 할 수 있습니다.

## 주요 기능

- **React Hook Form**: `useForm` 훅을 사용하여 폼 상태를 관리합니다.
- **유효성 검사**: 이메일, 닉네임, 비밀번호에 대한 커스텀 유효성 검사 규칙을 적용합니다.
- **실시간 유효성 검사**: 'onTouched' 모드와 'onChange' 재검증 모드를 사용하여 사용자 입력에 즉시 반응합니다.
- **비밀번호 확인**: 비밀번호 입력 필드의 값이 변경될 때마다 비밀번호 확인 필드를 재검증합니다.
- **에러 표시**: 유효성 검사 실패 시 에러 메시지를 표시합니다.
- **제출 버튼 상태 관리**: 폼이 유효하지 않거나 제출 중일 때 버튼을 비활성화합니다.

## 사용 예시

### Sign Up Form

다음은 이메일, 닉네임, 비밀번호, 비밀번호 확인 필드를 포함한 회원가입 폼의 예시입니다.

<Canvas of={FormFieldStories.SignUpForm} />

이 예시에서는 모든 필드가 필수이며, 각 필드에 대한 유효성 검사 규칙이 적용되어 있습니다. 모든 필드가 유효한 경우에만 제출 버튼이 활성화됩니다.

## Props

<Controls />

FormField 컴포넌트는 다음과 같은 주요 props를 받습니다

- `errors`: React Hook Form의 errors 객체입니다. 유효성 검사 실패 시 에러 메시지를 표시하는 데 사용됩니다.

## 주의사항

- 이 컴포넌트는 MSW(Mock Service Worker)를 사용하여 API 호출이 이루어집니다.
- 비밀번호 확인 로직은 `useEffect`를 사용하여 구현되어 있습니다. 비밀번호 입력 필드의 값이 변경될 때마다 비밀번호 확인 필드를 재검증합니다.
- 폼 제출 시 성공 또는 실패 메시지를 alert로 표시합니다. 실제 구현 시에는 UX를 고려하여 다른 방식을 선택하는 것이 좋아보입니다.
